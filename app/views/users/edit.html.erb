<div class="profile-edit-container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow">
        <div class="card-header bg-primary text-white">
          <h3>Edit Your Profile</h3>
        </div>
        
        <div class="card-body">
          <%= form_with(model: @user, local: true, html: { multipart: true }) do |f| %>
            <div class="row">
              <div class="col-md-4 text-center">
                <div class="avatar-upload">
                  <%# <%= image_tag @user.avatar.url || 'default-avatar.jpg', id: 'avatar-preview', class: 'rounded-circle mb-3', style: 'width: 150px; height: 150px; object-fit: cover;' %> %>
                  <%= f.file_field :avatar, id: 'avatar-upload', class: 'd-none' %>
                  <label for="avatar-upload" class="btn btn-outline-primary btn-sm">Change Photo</label>
                </div>
              </div>
              
              <div class="col-md-8">
                <div class="form-group">
                  <%= f.label :name, 'Full Name' %>
                  <%= f.text_field :name, class: 'form-control' %>
                </div>
                
                <div class="form-group">
                  <%= f.label :title, 'Professional Title' %>
                  <%= f.text_field :title, class: 'form-control', placeholder: 'E.g. Video Creator, Content Producer' %>
                </div>
                
                <div class="form-group">
                  <%= f.label :bio, 'Bio' %>
                  <%= f.text_area :bio, class: 'form-control', rows: 4 %>
                </div>
              </div>
            </div>
            
            <div class="form-group mt-4">
              <%= f.submit 'Update Profile', class: 'btn btn-primary' %>
              <%= link_to 'Cancel', user_path(@user), class: 'btn btn-outline-secondary' %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.getElementById('avatar-upload').addEventListener('change', function(event) {
    const file = event.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        document.getElementById('avatar-preview').src = e.target.result;
      };
      reader.readAsDataURL(file);
    }
  });
</script>